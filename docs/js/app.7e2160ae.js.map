{"version":3,"file":"js/app.7e2160ae.js","mappings":"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","sources":["webpack://pelis/./src/App.vue?5e22","webpack://pelis/./src/mixins/index.js","webpack://pelis/./src/components/SuggestedMovie.vue?5418","webpack://pelis/src/components/SuggestedMovie.vue","webpack://pelis/./src/components/SuggestedMovie.vue?de14","webpack://pelis/./src/components/SuggestedMovie.vue","webpack://pelis/./src/components/DetailModal.vue?ba8c","webpack://pelis/src/components/DetailModal.vue","webpack://pelis/./src/components/DetailModal.vue?088d","webpack://pelis/./src/components/DetailModal.vue","webpack://pelis/./src/components/EditModal.vue?0832","webpack://pelis/src/components/EditModal.vue","webpack://pelis/./src/components/EditModal.vue?7f5b","webpack://pelis/./src/components/EditModal.vue","webpack://pelis/./src/components/OptionsModal.vue?5ca5","webpack://pelis/src/components/OptionsModal.vue","webpack://pelis/./src/components/OptionsModal.vue?261e","webpack://pelis/./src/components/OptionsModal.vue","webpack://pelis/./src/components/AddMovieModal.vue?230d","webpack://pelis/src/components/AddMovieModal.vue","webpack://pelis/./src/components/AddMovieModal.vue?939e","webpack://pelis/./src/components/AddMovieModal.vue","webpack://pelis/./src/components/Resume.vue?4f4b","webpack://pelis/src/components/Resume.vue","webpack://pelis/./src/components/Resume.vue?56ab","webpack://pelis/./src/components/Resume.vue","webpack://pelis/./src/components/Nav.vue?b3a0","webpack://pelis/src/components/Nav.vue","webpack://pelis/./src/components/Nav.vue?943a","webpack://pelis/./src/components/Nav.vue","webpack://pelis/src/App.vue","webpack://pelis/./src/App.vue?6a4a","webpack://pelis/./src/App.vue","webpack://pelis/./src/store/dbAPI.js","webpack://pelis/./src/store/db.js","webpack://pelis/./src/store/index.js","webpack://pelis/./src/main.js","webpack://pelis/webpack/bootstrap","webpack://pelis/webpack/runtime/chunk loaded","webpack://pelis/webpack/runtime/define property getters","webpack://pelis/webpack/runtime/global","webpack://pelis/webpack/runtime/hasOwnProperty shorthand","webpack://pelis/webpack/runtime/make namespace object","webpack://pelis/webpack/runtime/jsonp chunk loading","webpack://pelis/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Nav'),_c('b-container',[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\",\"lg\":\"4\"}},[_c('Resume',{attrs:{\"totalSpent\":_vm.round2decimals(_vm.totalSpent),\"totalMovies\":_vm.totalMovies(),\"giftMovies\":_vm.giftMovies(),\"unwatchedMovies\":_vm.unwatchedMovies(),\"byFormat\":_vm.countByFormat()}}),_c('div',{staticClass:\"mb-3\"},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.add-movie-modal\",modifiers:{\"add-movie-modal\":true}}],attrs:{\"variant\":\"success\",\"block\":\"\"}},[_c('b-icon-plus'),_vm._v(\" Añadir película\")],1)],1),_c('SuggestedMovie',{on:{\"showDetail\":_vm.showMovieModal}})],1),_c('b-col',{attrs:{\"sm\":\"12\",\"lg\":\"8\"}},[(_vm.filteredResults.count)?_c('b-pagination',{staticClass:\"mb-3\",attrs:{\"total-rows\":_vm.filteredResults.count,\"per-page\":_vm.qtyPerPage,\"limit\":10,\"align\":\"fill\"},on:{\"change\":_vm.changePage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}):_vm._e(),_c('b-list-group',[_c('b-list-group-item',{staticClass:\"d-flex justify-content-between align-items-center\",attrs:{\"variant\":\"dark\"}},[_c('h4',{staticClass:\"mb-0 d-inline-block\"},[_vm._v(\"Mi colección\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":_vm.showFilters ? 'light' : ''},on:{\"click\":function($event){_vm.showFilters = !_vm.showFilters}}},[_c('b-icon-filter')],1)],1),(_vm.showFilters)?_c('b-list-group-item',{attrs:{\"variant\":\"light\"}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('b-input-group',{attrs:{\"size\":\"md\",\"prepend\":\"Título\"}},[_c('b-form-input',{model:{value:(_vm.filters.title),callback:function ($$v) {_vm.$set(_vm.filters, \"title\", $$v)},expression:\"filters.title\"}})],1)],1),_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('b-input-group',{attrs:{\"prepend\":\"Tienda\"}},[_c('b-form-select',{model:{value:(_vm.filters.store),callback:function ($$v) {_vm.$set(_vm.filters, \"store\", $$v)},expression:\"filters.store\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.stores),function(label,key){return _c('b-form-select-option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(label))])})],2)],1)],1)],1),_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('b-input-group',{attrs:{\"prepend\":\"Precio\"}},[_c('b-form-select',{model:{value:(_vm.filters.cost),callback:function ($$v) {_vm.$set(_vm.filters, \"cost\", $$v)},expression:\"filters.cost\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}}),_c('b-form-select-option',{attrs:{\"value\":\"0\"}},[_vm._v(\"Gratis\")]),_c('b-form-select-option',{attrs:{\"value\":\"<5\"}},[_vm._v(\"< 5€\")]),_c('b-form-select-option',{attrs:{\"value\":\"<10\"}},[_vm._v(\"< 10€\")]),_c('b-form-select-option',{attrs:{\"value\":\"10&50\"}},[_vm._v(\"> 10€ && < 50€\")]),_c('b-form-select-option',{attrs:{\"value\":\">50\"}},[_vm._v(\"> 50€\")])],1)],1)],1),_c('b-col',{staticClass:\"mt-2 mt-sm-0\",attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('b-input-group',{attrs:{\"prepend\":\"Estrenada\"}},[_c('b-form-select',{model:{value:(_vm.filters.watched),callback:function ($$v) {_vm.$set(_vm.filters, \"watched\", $$v)},expression:\"filters.watched\"}},[_c('b-form-select-option',{attrs:{\"value\":null}},[_vm._v(\"Todas\")]),_c('b-form-select-option',{attrs:{\"value\":false}},[_vm._v(\"Sin estrenar\")]),_c('b-form-select-option',{attrs:{\"value\":true}},[_vm._v(\"Estrenadas\")])],1)],1)],1)],1),_c('b-row',{staticClass:\"mt-2 text-center\"},[_c('b-col',[_c('b-input-group',{attrs:{\"prepend\":\"Resultados por página\"}},[_c('b-form-select',{model:{value:(_vm.qtyPerPage),callback:function ($$v) {_vm.qtyPerPage=$$v},expression:\"qtyPerPage\"}},[_c('b-form-select-option',{attrs:{\"value\":15}},[_vm._v(\"15\")]),_c('b-form-select-option',{attrs:{\"value\":50}},[_vm._v(\"50\")]),_c('b-form-select-option',{attrs:{\"value\":100}},[_vm._v(\"100\")])],1)],1)],1),_c('b-col',[_c('b-input-group',{attrs:{\"prepend\":\"Ordenar\"}},[_c('b-form-select',{model:{value:(_vm.filters.sort.field),callback:function ($$v) {_vm.$set(_vm.filters.sort, \"field\", $$v)},expression:\"filters.sort.field\"}},[_c('b-form-select-option',{attrs:{\"value\":\"title\"}},[_vm._v(\"Título\")]),_c('b-form-select-option',{attrs:{\"value\":\"cost\"}},[_vm._v(\"Coste\")]),_c('b-form-select-option',{attrs:{\"value\":\"addDate\"}},[_vm._v(\"Fecha añadida\")])],1),_c('b-form-select',{model:{value:(_vm.filters.sort.order),callback:function ($$v) {_vm.$set(_vm.filters.sort, \"order\", $$v)},expression:\"filters.sort.order\"}},[_c('b-form-select-option',{attrs:{\"value\":-1}},[_vm._v(\"Asc\")]),_c('b-form-select-option',{attrs:{\"value\":1}},[_vm._v(\"Desc\")])],1)],1)],1)],1),_c('b-row',[_c('b-col',[_vm._v(\"Resultados: \"),_c('strong',[_vm._v(_vm._s(_vm.filteredResults.count))])])],1)],1):_vm._e(),(!_vm.totalMovies())?_c('b-list-group-item',{attrs:{\"variant\":\"secondary\"}},[_vm._v(\"Aún no has añadido nada a tu colección :(\")]):_vm._e(),(_vm.hasAnyFilter && !_vm.filteredResults.count && _vm.totalMovies())?_c('b-list-group-item',{attrs:{\"variant\":\"warning\"}},[_vm._v(\" No hay resultados con estos filtros \")]):_vm._e(),_vm._l((_vm.filteredResults.items),function(movie,key){return _c('b-list-group-item',{key:key},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('div',{staticClass:\"text-truncate text-left font-weight-bold\"},[_c('a',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.detail-movie-modal\",modifiers:{\"detail-movie-modal\":true}}],attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.showMovie(movie)}}},[_vm._v(_vm._s(movie.title)+\" \")])])]),_c('b-col',{staticClass:\"text-right\",attrs:{\"md\":\"12\"}},[_c('b-row',{staticClass:\"mt-3 mt-sm-0\"},[_c('b-col',{attrs:{\"cols\":\"6\",\"sm\":\"8\"}},[_c('div',{staticClass:\"mt-1 text-left\"},[(movie.format)?_c('b-badge',{staticClass:\"mr-2 pl-2 pr-2\",attrs:{\"variant\":\"info\"}},[_vm._v(_vm._s(_vm.formats[movie.format]))]):_vm._e(),(!+movie.watched)?_c('b-badge',{staticClass:\"mr-2 pl-2 pr-2 text-uppercase\",attrs:{\"variant\":\"warning\"}},[_vm._v(\"Sin estrenar\")]):_vm._e(),_c('b-badge',{staticClass:\"mr-2 pl-2 pr-2\",attrs:{\"variant\":\"success\",\"title\":`Coste: ${movie.cost}€`}},[_vm._v(_vm._s(movie.cost)+\"€\")])],1)]),_c('b-col',{attrs:{\"cols\":\"6\",\"sm\":\"4\"}},[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.edit-movie\",modifiers:{\"edit-movie\":true}}],staticClass:\"mr-1\",attrs:{\"variant\":\"info\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.editMovie(movie.id)}}},[_c('b-icon-pencil'),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"Editar\")])],1),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.removeMovie(movie.id)}}},[_c('b-icon-trash'),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"Eliminar\")])],1)],1)],1)],1)],1)],1)})],2),(_vm.filteredResults.count)?_c('b-pagination',{staticClass:\"mt-3\",attrs:{\"total-rows\":_vm.filteredResults.count,\"per-page\":_vm.qtyPerPage,\"limit\":10,\"align\":\"fill\"},on:{\"change\":_vm.changePage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}):_vm._e()],1)],1)],1),_c('AddMovieModal'),_c('OptionsModal'),_c('EditModal',{attrs:{\"movie\":_vm.editMovieData},on:{\"confirmEditMovie\":_vm.confirmEditMovie,\"resetEditMovie\":_vm.resetEditMovie}}),_c('DetailModal',{attrs:{\"movie\":_vm.detailMovie},on:{\"removeMovie\":function($event){return _vm.removeMovie($event)},\"editMovie\":function($event){return _vm.editMovie($event)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n    methods: {\n        formatMovie(data) {\n            return {\n                id: data.id || '',\n                title: data.title || '',\n                cost: data.cost || 0,\n                store: data.store || '',\n                imdbLink: data.imdbLink || '',\n                addDate: data.addDate || new Date(),\n                watched: (+data.watched === 1 || data.watched === true) || false,\n                format: data.format || 'br' // br o dvd\n            }\n        },\n        getSmartDailyMovie(collection) {\n            const today = new Date().getUTCDate(); // Cambia cada día\n            const month = new Date().getUTCMonth();\n            \n            // 1. Ordenar la colección para que el índice sea predecible\n            // (Importante: .sort() afecta al array original, mejor usa una copia)\n            const sortedCollection = [...collection].sort((a, b) => a.id.localeCompare(b.id));\n\n            // 2. Filtrar preferiblemente las no vistas\n            const unwatched = sortedCollection.filter(m => !m.watched);\n            const targetList = unwatched.length > 0 ? unwatched : sortedCollection;\n\n            // 3. Selección determinista basada en la fecha (día + mes para variar cada año)\n            const seed = today + month;\n            const selectedMovie = targetList[seed % targetList.length];\n\n            return {\n                date: Date.now(),\n                id: selectedMovie.id,\n                isNew: !selectedMovie.watched // Meta-información útil\n            };\n        },\n        showToast(title, text, variant) {\n            this.$bvToast.toast(text, {\n                title,\n                variant,\n                solid: true,\n                toaster: 'b-toaster-top-center'\n            })\n        },\n        obtenerKeyTienda(nombre) {\n            const tiendasReferencia = {\n                'amazon': 'amazon',\n                'elcorteingles': 'elcorteingles',\n                'eci': 'elcorteingles',\n                'fnac': 'fnac',\n                'cex': 'cex',\n                'carrefour': 'carrefour',\n                'selectavision': 'selectavision',\n                'mediamarkt': 'mediamarkt',\n                'game': 'game',\n                'centromail': 'centromail'\n            }\n\n            // Normalizamos el nombre para buscar la key:\n            // 1. Minúsculas \n            // 2. Quitamos acentos (opcional pero recomendado)\n            // 3. Quitamos todos los espacios\n            const keyNormalizada = nombre\n                .toLowerCase()\n                .normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") \n                .replace(/\\s+/g, '');\n\n        return tiendasReferencia.hasOwnProperty(keyNormalizada) \n            ? tiendasReferencia[keyNormalizada]\n            : '' // Vacío por defecto\n        },\n        obtenerTiendaYPrecioDeDescripcionImdb(descripcion) {\n            const result = { // Valores por defecto\n                tienda: '',\n                precio: 0\n            }\n\n            if (!descripcion) return result\n\n            // Explicación de la nueva RegEx:\n            // ^(.+?)            -> Grupo 1: Captura el nombre (mínimo un carácter)\n            // \\s+               -> Busca el espacio antes del número\n            // ([\\d.,]+)         -> Grupo 2: Captura el número (precio)\n            // \\s*(?:€)?$        -> Ignora espacios opcionales y el símbolo € al final\n            const match = descripcion.match(/^(.+?)\\s+([\\d.,]+)\\s*(?:€)?$/);\n\n            if (match) {\n                if (match[1].trim()) {\n                    result.tienda = this.obtenerKeyTienda(match[1].trim())\n                }\n                result.precio = parseFloat(match[2].replace(',', '.'))\n            }\n\n            return result\n        },\n        readImdbCSV: async function(fileData) {\n            const parsed = this.csvToArray(fileData);\n            \n            // 1. Limpieza: Quitamos cabecera y filtramos filas sin título (columna 5)\n            const validRows = parsed.slice(1).filter(movie => movie[5] && movie[5].trim() !== '');\n            \n            const batchSize = 100;\n            \n            // 2. Procesamos por lotes\n            for (let i = 0; i < validRows.length; i += batchSize) {\n                const chunk = validRows.slice(i, i + batchSize);\n                \n                // 3. Mapeamos cada fila usando formatMovie\n                const moviesBatch = chunk.map(movie => {\n                    const dateWatched = movie[17];\n                    const title = movie[5];\n                    const imdbLink = movie[7];\n                    const dateAdded = movie[2];\n                    const tiendaYPrecio = this.obtenerTiendaYPrecioDeDescripcionImdb(movie[4] || '');\n\n                    // Aquí integramos tu función formatMovie\n                    return this.formatMovie({\n                        'cost': tiendaYPrecio.precio,\n                        'store': tiendaYPrecio.tienda,\n                        'addDate': new Date(dateAdded).getTime(),\n                        'title': title,\n                        'watched': !!dateWatched,\n                        'imdbLink': imdbLink,\n                        'format': 'br'\n                    });\n                });\n\n                // 4. Enviamos el lote al store y esperamos a que termine\n                try {\n                    await this.$store.dispatch('addMoviesBatch', moviesBatch);\n                    console.log(`Lote de ${moviesBatch.length} películas procesado.`);\n                } catch (error) {\n                    console.error(\"Error procesando lote:\", error);\n                    // Opcional: break; si quieres detener todo si un lote falla\n                }\n            }\n            \n            console.log(\"Importación masiva completada con éxito.\");\n        },\n        csvToArray(text) {\n            let p = '',\n                row = [''],\n                ret = [row],\n                i = 0,\n                r = 0,\n                s = !0,\n                l;\n            for (l of text) {\n                if ('\"' === l) {\n                    if (s && l === p) row[i] += l;\n                    s = !s;\n                } else if (',' === l && s) l = row[++i] = '';\n                else if ('\\n' === l && s) {\n                    if ('\\r' === p) row[i] = row[i].slice(0, -1);\n                    row = ret[++r] = [l = ''];\n                    i = 0;\n                } else row[i] += l;\n                p = l;\n            }\n            return ret;\n        },\n        round2decimals(number) {\n            return Math.round((number + Number.EPSILON) * 100) / 100\n        },\n        jsonToCsv(json) {\n            const items = json\n            const replacer = (key, value) => value === null ? '' : value.toString() // specify how you want to handle null values here\n            const header = Object.keys(items[0])\n            const csv = encodeURI([\n                header.join(','), // header row first\n                ...items.map(row => header.map(fieldName => JSON.stringify(row[fieldName], replacer)).join(','))\n            ].join(\"\\n\"))\n            console.log(csv)\n            return csv\n        }\n    }\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.movie.id)?_c('b-card',{staticClass:\"mb-3\"},[_c('b-card-text',[_c('strong',{staticClass:\"mr-1\"},[_vm._v(\"Película sugerida hoy:\")]),_c('a',{staticClass:\"font-weight-bold\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('showDetail', _vm.movie)}}},[_vm._v(_vm._s(_vm.movie.title))]),(!+_vm.movie.watched)?_c('b-badge',{staticClass:\"ml-1\",attrs:{\"variant\":\"warning\"}},[_vm._v(\"SIN ESTRENAR\")]):_vm._e()],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<b-card class=\"mb-3\" v-if=\"movie.id\">\n   <b-card-text>\n    <strong class=\"mr-1\">Película sugerida hoy:</strong>\n    <a class=\"font-weight-bold\" href=\"#\" @click.prevent=\"$emit('showDetail', movie)\">{{ movie.title }}</a>\n    <b-badge class=\"ml-1\" v-if=\"!+movie.watched\" variant=\"warning\">SIN ESTRENAR</b-badge>\n   </b-card-text>\n  </b-card>\n</template>\n\n<script>\n\timport { mapState } from 'vuex'\n\timport 'bootstrap/dist/css/bootstrap.css'\n\timport 'bootstrap-vue/dist/bootstrap-vue.css'\n\timport 'bootstrap-vue/dist/bootstrap-vue-icons.min.css'\n\n\texport default {\n\t\tname: 'SuggestedMovie',\n    computed: {\n      ...mapState([ 'movieCollection', 'suggestedToday' ])\n    },\n    watch: {\n      suggestedToday(){\n        this.$store.dispatch({ type: 'getMovie', id: this.suggestedToday.id }).then(movie => this.movie = movie)\n      }\n    },\n    data: function(){\n      return {\n        movie: {}\n      }\n    },\n    mounted(){\n      \n    }\n\t}\n</script>\n\n<style scoped>\n\t\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SuggestedMovie.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SuggestedMovie.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SuggestedMovie.vue?vue&type=template&id=dfecc452&scoped=true\"\nimport script from \"./SuggestedMovie.vue?vue&type=script&lang=js\"\nexport * from \"./SuggestedMovie.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dfecc452\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.movie)?_c('b-modal',{attrs:{\"size\":\"lg\",\"id\":\"detail-movie-modal\",\"title\":`Detalle: ${_vm.movie['Título']}`,\"ok-only\":\"\"}},[_c('b-container',{attrs:{\"id\":\"detail-content\"}},[_vm._l((_vm.movie),function(value,key){return [(key !== 'Enlace IMDb')?_c('b-row',{key:key},[_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"4\"}},[_c('strong',[_vm._v(_vm._s(key))])]),_c('b-col',{attrs:{\"cols\":\"8\"}},[(key === 'ID')?_c('code',{staticClass:\"text-truncate d-block\"},[_vm._v(_vm._s(value))]):_c('span',[_vm._v(_vm._s(value))])])],1):_vm._e()]}),(_vm.suggestedToday && _vm.suggestedToday.id === _vm.movie.ID)?_c('b-row',[_c('b-col',{attrs:{\"cols\":\"4\"}}),_c('b-col',{staticClass:\"text-left\"},[_c('b-badge',{attrs:{\"variant\":\"info\"}},[_vm._v(\"SUGERIDA HOY\")])],1)],1):_vm._e(),(_vm.imdbLink(_vm.movie))?_c('b-row',[_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"4\"}},[_c('strong',[_vm._v(\"Enlace IMDb\")])]),_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.imdbLink(_vm.movie)}},[_vm._v(_vm._s(_vm.movie[\"Título\"]))])])],1):_vm._e(),_c('hr'),_c('b-row',[_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"4\"}},[_vm._v(\" Opciones \")]),_c('b-col',[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.edit-movie\",modifiers:{\"edit-movie\":true}}],staticClass:\"mr-1\",attrs:{\"variant\":\"info\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$emit('editMovie', _vm.movie.ID)}}},[_c('b-icon-pencil'),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"Editar\")])],1),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.$emit('removeMovie', _vm.movie.ID)}}},[_c('b-icon-trash'),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"Eliminar\")])],1)],1)],1)],2)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    v-if=\"movie\"\n    size=\"lg\"\n    id=\"detail-movie-modal\"\n    :title=\"`Detalle: ${movie['Título']}`\"\n    ok-only\n  >\n    <b-container id=\"detail-content\">\n      <template v-for=\"(value, key) in movie\">\n        <b-row :key=\"key\" v-if=\"key !== 'Enlace IMDb'\">\n          <b-col cols=\"4\" class=\"text-right\">\n            <strong>{{ key }}</strong>\n          </b-col>\n          <b-col cols=\"8\">\n            <code v-if=\"key === 'ID'\" class=\"text-truncate d-block\">{{\n              value\n            }}</code>\n            <span v-else>{{ value }}</span>\n          </b-col>\n        </b-row>\n      </template>\n      <b-row v-if=\"suggestedToday && suggestedToday.id === movie.ID\">\n        <b-col cols=\"4\"></b-col>\n        <b-col class=\"text-left\">\n          <b-badge variant=\"info\">SUGERIDA HOY</b-badge>\n        </b-col>\n      </b-row>\n      <b-row v-if=\"imdbLink(movie)\">\n        <b-col cols=\"4\" class=\"text-right\">\n          <strong>Enlace IMDb</strong>\n        </b-col>\n        <b-col cols=\"8\">\n          <a target=\"_blank\" :href=\"imdbLink(movie)\">{{ movie[\"Título\"] }}</a>\n        </b-col>\n      </b-row>\n      <hr />\n      <b-row>\n        <b-col cols=\"4\" class=\"text-right\"> Opciones </b-col>\n        <b-col>\n          <b-button\n            class=\"mr-1\"\n            variant=\"info\"\n            size=\"sm\"\n            v-b-modal.edit-movie\n            @click=\"$emit('editMovie', movie.ID)\"\n            ><b-icon-pencil></b-icon-pencil>\n            <span class=\"d-none d-sm-inline-block\">Editar</span></b-button\n          >\n          <b-button\n            @click=\"$emit('removeMovie', movie.ID)\"\n            size=\"sm\"\n            variant=\"danger\"\n            ><b-icon-trash></b-icon-trash>\n            <span class=\"d-none d-sm-inline-block\">Eliminar</span></b-button\n          >\n        </b-col>\n      </b-row>\n    </b-container>\n  </b-modal>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"DetailModal\",\n  props: [\"movie\"],\n  computed: {\n    ...mapState([\"suggestedToday\"]),\n  },\n  methods: {\n    imdbLink: (movie) => {\n      if (movie.ID.toString().indexOf(\"tt\") === 0)\n        return `https://imdb.com/title/${movie.ID}`;\n      if (movie[\"Enlace IMDb\"]) return movie[\"Enlace IMDb\"];\n      return \"\";\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DetailModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DetailModal.vue?vue&type=template&id=033b319e\"\nimport script from \"./DetailModal.vue?vue&type=script&lang=js\"\nexport * from \"./DetailModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"edit-movie\",\"title\":\"Editar película\"},on:{\"ok\":function($event){return _vm.$emit('confirmEditMovie')},\"hidden\":function($event){return _vm.$emit('resetEditMovie')}}},[_c('b-row',[_c('b-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\"id: \"),_c('code',[_vm._v(_vm._s(_vm.movie.id))])])],1),_c('b-row',{staticClass:\"mt-3\"},[_c('b-col',{attrs:{\"cols\":\"12\"}},[_c('b-input-group',{attrs:{\"size\":\"md\",\"prepend\":\"Título\"}},[_c('b-form-input',{attrs:{\"id\":\"new-movie-title\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.$emit('confirmEditMovie')}},model:{value:(_vm.movie.title),callback:function ($$v) {_vm.$set(_vm.movie, \"title\", $$v)},expression:\"movie.title\"}})],1)],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('b-input-group',{attrs:{\"size\":\"md\",\"prepend\":\"Precio\",\"append\":\"€\"}},[_c('b-form-input',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.$emit('confirmEditMovie')}},model:{value:(_vm.movie.cost),callback:function ($$v) {_vm.$set(_vm.movie, \"cost\", $$v)},expression:\"movie.cost\"}})],1)],1),_c('b-col',{staticClass:\"mt-2\",attrs:{\"cols\":\"12\",\"sm\":\"6\"}},[_c('b-input-group',{attrs:{\"prepend\":\"Tienda\"}},[_c('b-form-select',{model:{value:(_vm.movie.store),callback:function ($$v) {_vm.$set(_vm.movie, \"store\", $$v)},expression:\"movie.store\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.stores),function(label,key){return _c('b-form-select-option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(label))])})],2)],1)],1)],1),_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',[_c('b-input-group',{attrs:{\"prepend\":\"Estrenada\"}},[_c('b-form-select',{model:{value:(_vm.movie.watched),callback:function ($$v) {_vm.$set(_vm.movie, \"watched\", $$v)},expression:\"movie.watched\"}},[_c('b-form-select-option',{attrs:{\"value\":\"0\"}},[_vm._v(\"No\")]),_c('b-form-select-option',{attrs:{\"value\":\"1\"}},[_vm._v(\"Sí\")])],1)],1)],1),_c('b-col',[_c('b-input-group',{attrs:{\"prepend\":\"Formato\"}},[_c('b-form-select',{model:{value:(_vm.movie.format),callback:function ($$v) {_vm.$set(_vm.movie, \"format\", $$v)},expression:\"movie.format\"}},_vm._l((_vm.formats),function(label,key){return _c('b-form-select-option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(label))])}),1)],1)],1)],1),_c('b-row',[_c('b-col',{staticClass:\"mt-2\",attrs:{\"cols\":\"12\"}},[_c('b-input-group',{attrs:{\"size\":\"md\",\"prepend\":\"Link IMDb\"}},[_c('b-form-input',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.$emit('confirmEditMovie')}},model:{value:(_vm.movie.imdbLink),callback:function ($$v) {_vm.$set(_vm.movie, \"imdbLink\", $$v)},expression:\"movie.imdbLink\"}})],1)],1)],1),_c('b-row',[_c('b-col',{staticClass:\"mt-2\",attrs:{\"cols\":\"12\"}},[_c('b-input-group',{attrs:{\"size\":\"md\",\"prepend\":\"Fecha añadida\"}},[_c('b-form-datepicker',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.$emit('confirmEditMovie')}},model:{value:(_vm.movie.addDate),callback:function ($$v) {_vm.$set(_vm.movie, \"addDate\", $$v)},expression:\"movie.addDate\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    id=\"edit-movie\"\n    title=\"Editar película\"\n    @ok=\"$emit('confirmEditMovie')\"\n    @hidden=\"$emit('resetEditMovie')\"\n  >\n    <b-row>\n      <b-col cols=\"12\"\n        >id: <code>{{ movie.id }}</code></b-col\n      >\n    </b-row>\n    <b-row class=\"mt-3\">\n      <b-col cols=\"12\">\n        <b-input-group size=\"md\" prepend=\"Título\">\n          <b-form-input\n            id=\"new-movie-title\"\n            v-model=\"movie.title\"\n            @keyup.enter=\"$emit('confirmEditMovie')\"\n          ></b-form-input>\n        </b-input-group>\n      </b-col>\n      <b-col cols=\"12\" sm=\"6\" class=\"mt-2\">\n        <b-input-group size=\"md\" prepend=\"Precio\" append=\"€\">\n          <b-form-input\n            v-model=\"movie.cost\"\n            @keyup.enter=\"$emit('confirmEditMovie')\"\n          ></b-form-input>\n        </b-input-group>\n      </b-col>\n      <b-col cols=\"12\" sm=\"6\" class=\"mt-2\">\n        <b-input-group prepend=\"Tienda\">\n          <b-form-select v-model=\"movie.store\">\n            <b-form-select-option value=\"\"></b-form-select-option>\n            <b-form-select-option\n              v-for=\"(label, key) in stores\"\n              :key=\"key\"\n              :value=\"key\"\n              >{{ label }}</b-form-select-option\n            >\n          </b-form-select>\n        </b-input-group>\n      </b-col>\n    </b-row>\n    <b-row class=\"mt-2\">\n      <b-col>\n        <b-input-group prepend=\"Estrenada\">\n          <b-form-select v-model=\"movie.watched\">\n            <b-form-select-option value=\"0\">No</b-form-select-option>\n            <b-form-select-option value=\"1\">Sí</b-form-select-option>\n          </b-form-select>\n        </b-input-group>\n      </b-col>\n      <b-col>\n        <b-input-group prepend=\"Formato\">\n          <b-form-select v-model=\"movie.format\">\n            <b-form-select-option\n              v-for=\"(label, key) in formats\"\n              :key=\"key\"\n              :value=\"key\"\n              >{{ label }}</b-form-select-option\n            >\n          </b-form-select>\n        </b-input-group>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col cols=\"12\" class=\"mt-2\">\n        <b-input-group size=\"md\" prepend=\"Link IMDb\">\n          <b-form-input\n            v-model=\"movie.imdbLink\"\n            @keyup.enter=\"$emit('confirmEditMovie')\"\n          ></b-form-input>\n        </b-input-group>\n      </b-col>\n    </b-row>\n    <b-row>\n      <b-col cols=\"12\" class=\"mt-2\">\n        <b-input-group size=\"md\" prepend=\"Fecha añadida\">\n          <b-form-datepicker\n            v-model=\"movie.addDate\"\n            @keyup.enter=\"$emit('confirmEditMovie')\"\n          ></b-form-datepicker>\n        </b-input-group>\n      </b-col>\n    </b-row>\n  </b-modal>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"DetailModal\",\n  props: [\"movie\"],\n  computed: {\n    ...mapState([\"stores\", \"formats\"]),\n  },\n};\n</script>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditModal.vue?vue&type=template&id=7a564eb0\"\nimport script from \"./EditModal.vue?vue&type=script&lang=js\"\nexport * from \"./EditModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"id\":\"options-modal\",\"title\":\"Opciones\",\"ok-only\":\"\"}},[_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',[_c('b-alert',{attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('h4',[_vm._v(\"Exportación\")]),(!_vm.exportCode)?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"info\"},on:{\"click\":_vm.exportCollection}},[_vm._v(\"Exportar colección\")]):_vm._e(),(_vm.exportCode)?_c('b-textarea',{attrs:{\"rows\":\"6\",\"value\":_vm.exportCode}}):_vm._e(),(_vm.exportCode)?_c('b-button',{staticClass:\"mt-1 mb-1\",attrs:{\"block\":\"\",\"variant\":\"success\"},on:{\"click\":_vm.downloadExportFile}},[_vm._v(\"Descargar archivo\")]):_vm._e(),(_vm.exportCode)?_c('b-button',{attrs:{\"block\":\"\"},on:{\"click\":_vm.clearExportCode}},[_vm._v(\"Cerrar\")]):_vm._e()],1)],1)],1),_c('b-row',{staticClass:\"mb-1\"},[_c('b-col',[_c('b-alert',{attrs:{\"variant\":\"warning\",\"show\":\"\"}},[_c('h4',[_vm._v(\"Importación\")]),(!_vm.showImportTextarea)?_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"warning\"},on:{\"click\":function($event){_vm.showImportTextarea = true}}},[_vm._v(\"Importar colección\")]):_vm._e(),(_vm.showImportTextarea)?_c('b-textarea',{attrs:{\"rows\":\"6\"},model:{value:(_vm.importCode),callback:function ($$v) {_vm.importCode=$$v},expression:\"importCode\"}}):_vm._e(),(_vm.showImportTextarea)?[_c('b-button',{staticClass:\"mt-1 mb-1\",attrs:{\"block\":\"\",\"variant\":\"success\",\"disabled\":!_vm.importCode.length},on:{\"click\":_vm.importCollection}},[_vm._v(\"Importar colección\")]),_c('hr'),_c('div',{staticClass:\"mt-1 mb-1\"},[_c('strong',[_vm._v(\"Importar desde archivo\")]),_c('input',{staticClass:\"mt-2\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.importCollectionFile}})]),_c('div',{staticClass:\"mt-1 mb-1\"},[_c('strong',[_vm._v(\"Importar CSV de IMDB\")]),_c('input',{staticClass:\"mt-2\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.readFile}})]),_c('b-button',{staticClass:\"mt-2\",attrs:{\"block\":\"\"},on:{\"click\":function($event){_vm.importCode = '';\n              _vm.showImportTextarea = false;}}},[_vm._v(\"Cerrar\")])]:_vm._e(),(_vm.importCode.length)?_c('div',{staticClass:\"text-center mt-2\"},[_c('small',[_c('strong',[_vm._v(\"¡Esto sobrescribirá la colección actual! ¡No se puede deshacer!\")])])]):_vm._e()],2)],1)],1),_c('b-row',[_c('b-col',[_c('b-alert',{attrs:{\"variant\":\"secondary\",\"show\":\"\"}},[_c('b-row',[_c('b-col',{staticClass:\"my-auto\"},[_vm._v(\"Recalcular coste total de la colección\")]),_c('b-col',{attrs:{\"cols\":\"4\"}},[_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"primary\"},on:{\"click\":_vm.recalcTotalSpent}},[_vm._v(\"Recalcular\")])],1)],1)],1)],1)],1),_c('b-row',[_c('b-col',[_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\"}},[_c('h5',[_c('b-icon-exclamation-triangle'),_vm._v(\" Zona peligrosa \")],1),_c('hr'),_c('b-button',{attrs:{\"variant\":\"danger\",\"block\":\"\"},on:{\"click\":_vm.clearCollection}},[_vm._v(\"Eliminar la colección al completo\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal id=\"options-modal\" title=\"Opciones\" ok-only>\n    <!-- Exportar colección -->\n    <b-row class=\"mb-1\">\n      <b-col>\n        <b-alert variant=\"info\" show>\n          <h4>Exportación</h4>\n          <b-button\n            block\n            variant=\"info\"\n            v-if=\"!exportCode\"\n            @click=\"exportCollection\"\n            >Exportar colección</b-button\n          >\n          <b-textarea\n            rows=\"6\"\n            v-if=\"exportCode\"\n            :value=\"exportCode\"\n          ></b-textarea>\n          <b-button\n            block\n            variant=\"success\"\n            class=\"mt-1 mb-1\"\n            v-if=\"exportCode\"\n            @click=\"downloadExportFile\"\n            >Descargar archivo</b-button\n          >\n          <b-button block v-if=\"exportCode\" @click=\"clearExportCode\"\n            >Cerrar</b-button\n          >\n        </b-alert>\n      </b-col>\n    </b-row>\n    <!-- Importar colección -->\n    <b-row class=\"mb-1\">\n      <b-col>\n        <b-alert variant=\"warning\" show>\n          <h4>Importación</h4>\n          <b-button\n            block\n            variant=\"warning\"\n            @click=\"showImportTextarea = true\"\n            v-if=\"!showImportTextarea\"\n            >Importar colección</b-button\n          >\n          <b-textarea\n            rows=\"6\"\n            v-if=\"showImportTextarea\"\n            v-model=\"importCode\"\n          ></b-textarea>\n          <template v-if=\"showImportTextarea\">\n            <b-button\n              block\n              variant=\"success\"\n              class=\"mt-1 mb-1\"\n              :disabled=\"!importCode.length\"\n              @click=\"importCollection\"\n              >Importar colección</b-button\n            >\n            <hr>\n            <div class=\"mt-1 mb-1\">\n              <strong>Importar desde archivo</strong>\n              <input class=\"mt-2\" type=\"file\" @change=\"importCollectionFile\" />\n            </div>\n            <div class=\"mt-1 mb-1\">\n              <strong>Importar CSV de IMDB</strong>\n              <input class=\"mt-2\" type=\"file\" @change=\"readFile\" />\n            </div>\n            <b-button\n              block\n              class=\"mt-2\"\n              @click=\"\n                importCode = '';\n                showImportTextarea = false;\n              \"\n              >Cerrar</b-button>\n          </template>\n          <div class=\"text-center mt-2\" v-if=\"importCode.length\">\n            <small\n              ><strong\n                >¡Esto sobrescribirá la colección actual! ¡No se puede\n                deshacer!</strong\n              ></small\n            >\n          </div>\n          <!-- <strong>Importar desde archivo JSON</strong>\n          <input class=\"mt-2\" type=\"file\" @change=\"importJSONFile\" /> -->\n        </b-alert>\n      </b-col>\n    </b-row>\n\n    <b-row>\n      <b-col>\n        <b-alert variant=\"secondary\" show>\n          <b-row>\n            <b-col class=\"my-auto\">Recalcular coste total de la colección</b-col>\n            <b-col cols=\"4\">\n              <b-button block variant=\"primary\" @click=\"recalcTotalSpent\"\n                >Recalcular</b-button>\n            </b-col>\n          </b-row>\n        </b-alert>\n      </b-col>\n    </b-row>\n\n    <!-- Eliminar colección -->\n    <b-row>\n      <b-col>\n        <b-alert variant=\"danger\" show>\n          <h5>\n            <b-icon-exclamation-triangle></b-icon-exclamation-triangle> Zona\n            peligrosa\n          </h5>\n          <hr />\n          <b-button variant=\"danger\" block @click=\"clearCollection\"\n            >Eliminar la colección al completo</b-button\n          >\n        </b-alert>\n      </b-col>\n    </b-row>\n  </b-modal>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport mixins from \"@/mixins\";\nexport default {\n  name: \"OptionsModal\",\n  mixins: [mixins],\n  computed: {\n    ...mapState([\"movieCollection\", \"totalSpent\"]),\n  },\n  data: function () {\n    return {\n      showImportTextarea: false,\n      importCode: \"\",\n      exportCode: \"\",\n      importListUrl: \"\",\n    };\n  },\n  methods: {\n    recalcTotalSpent() {\n      this.$store.commit(\"forceRecalcTotalSpent\");\n      this.showToast(\n        \"Correcto\",\n        \"Se ha recalculado el gasto total con éxito\",\n        \"success\"\n      );\n    },\n    downloadExportFile() {\n      if (!this.exportCode) return false;\n      const link = document.createElement(\"a\");\n      const today = new Date()\n      const dateStr = [\n        today.getFullYear(),\n        today.getMonth() + 1,\n        today.getDate()\n      ].join('-')\n      link.download = `pelis_export_${dateStr}.csv`;\n      link.href = `data:text/csv;charset=utf-8,${this.jsonToCsv(this.movieCollection.map(this.formatMovie))}`;\n      link.click();\n    },\n    importCollectionFile(event) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const data = this.csvToArray(e.target.result)\n        // Eliminar la cabecera\n        data.shift()\n        const collection = data.filter(m => m.length > 5).map(m => {\n          const isTime = !m[5].includes('T')\n          return {\n            id: m[0],\n            title: m[1] || '',\n            cost: m[2] || 0,\n            store: m[3] || '',\n            imdbLink: m[4] || '',\n            addDate: new Date(isTime ? +m[5] : m[5]) || new Date(),\n            watched: m[6] === 'true',\n            format: m[7] || 'br'\n          }\n        })\n        this.$store.commit('importCollection', collection)\n        this.showToast(\"Importado\", \"Colección importada con éxito\", \"success\");\n      };\n      reader.readAsText(event.target.files[0]);\n    },\n    importJSONFile(event){\n      const file = event.target.files[0]\n      const fr = new FileReader()\n      fr.onload = () => {\n        const col = JSON.parse(fr.result)\n        this.$store.commit('importCollection', col.movieCollection.map(m => {\n          if(m.title.includes('�')){\n            m.title = m.title.replace('�', '')\n          }\n          return m\n        }))\n      };\n      fr.readAsText(file, 'UTF-8')\n    },\n    readFile: async function (event) {\n      const file = event.target.files[0];\n      const fr = new FileReader();\n      fr.onload = () => {\n        this.readImdbCSV(fr.result);\n      };\n      fr.readAsText(file, 'UTF-8');\n    },\n    clearCollection() {\n      if (\n        confirm(\"Vas a ELIMINAR POR COMPLETO la colección ¿estás seguro/a?\")\n      ) {\n        this.$store.commit(\"clearCollection\");\n        this.showToast(\n          \"Colección eliminada\",\n          \"Se ha eliminado la colección al completo\",\n          \"success\"\n        );\n      }\n    },\n    exportCollection() {\n      const str = JSON.stringify({\n        movieCollection: this.movieCollection.map(this.formatMovie),\n        totalSpent: this.totalSpent,\n      });\n      this.exportCode = btoa(str);\n    },\n    clearExportCode() {\n      this.exportCode = \"\";\n    },\n    importCollection() {\n      const str = atob(this.importCode);\n      try {\n        const data = JSON.parse(str);\n        data.movieCollection = data.movieCollection.map((movie) => {\n          if (typeof movie.watched === \"undefined\") {\n            movie.watched = 1;\n          } else {\n            movie.watched = !!+movie.watched;\n          }\n          if (!movie.addDate) {\n            movie.addDate = Date.now();\n          } else {\n            movie.addDate = new Date(movie.addDate)\n          }\n          return movie;\n        });\n        this.$store.commit(\"importCollection\", data.movieCollection);\n        this.showToast(\"Importado\", \"Colección importada con éxito\", \"success\");\n      } catch (e) {\n        console.error(e);\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OptionsModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OptionsModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OptionsModal.vue?vue&type=template&id=0e1132fc\"\nimport script from \"./OptionsModal.vue?vue&type=script&lang=js\"\nexport * from \"./OptionsModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{attrs:{\"title\":\"Añadir película\",\"id\":\"add-movie-modal\"}},[_c('b-input-group',{attrs:{\"size\":\"md\",\"prepend\":\"Título\"}},[_c('b-form-input',{attrs:{\"id\":\"new-movie-title-modal\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addMovie.apply(null, arguments)}},model:{value:(_vm.movie.title),callback:function ($$v) {_vm.$set(_vm.movie, \"title\", $$v)},expression:\"movie.title\"}})],1),_c('b-input-group',{staticClass:\"mt-2\",attrs:{\"size\":\"md\",\"prepend\":\"Precio\",\"append\":\"€\"}},[_c('b-form-input',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addMovie.apply(null, arguments)}},model:{value:(_vm.movie.cost),callback:function ($$v) {_vm.$set(_vm.movie, \"cost\", $$v)},expression:\"movie.cost\"}})],1),_c('b-input-group',{staticClass:\"mt-2\",attrs:{\"prepend\":\"Tienda\"}},[_c('b-form-select',{model:{value:(_vm.movie.store),callback:function ($$v) {_vm.$set(_vm.movie, \"store\", $$v)},expression:\"movie.store\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.stores),function(label,key){return _c('b-form-select-option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(label))])})],2)],1),_c('b-input-group',{staticClass:\"mt-2\",attrs:{\"prepend\":\"Formato\"}},[_c('b-form-select',{model:{value:(_vm.movie.format),callback:function ($$v) {_vm.$set(_vm.movie, \"format\", $$v)},expression:\"movie.format\"}},[_c('b-form-select-option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.formats),function(label,key){return _c('b-form-select-option',{key:key,attrs:{\"value\":key}},[_vm._v(_vm._s(label))])})],2)],1),_c('b-input-group',{staticClass:\"mt-2\",attrs:{\"size\":\"md\",\"prepend\":\"IMDb link\"}},[_c('b-form-input',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addMovie.apply(null, arguments)}},model:{value:(_vm.movie.imdbLink),callback:function ($$v) {_vm.$set(_vm.movie, \"imdbLink\", $$v)},expression:\"movie.imdbLink\"}})],1),_c('b-row',[_c('b-col',{staticClass:\"text-center mt-3\",attrs:{\"sm\":\"12\",\"md\":\"6\",\"offset-md\":\"3\"}},[_c('b-button',{attrs:{\"block\":\"\",\"variant\":\"success\"},on:{\"click\":_vm.addMovie}},[_vm._v(\"Añadir a la colección\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal title=\"Añadir película\" id=\"add-movie-modal\">\n    <b-input-group size=\"md\" prepend=\"Título\">\n      <b-form-input id=\"new-movie-title-modal\" v-model=\"movie.title\" @keyup.enter=\"addMovie\"></b-form-input>\n    </b-input-group>\n    <b-input-group size=\"md\" prepend=\"Precio\" append=\"€\" class=\"mt-2\">\n      <b-form-input v-model=\"movie.cost\" @keyup.enter=\"addMovie\"></b-form-input>\n    </b-input-group>\n    <b-input-group prepend=\"Tienda\" class=\"mt-2\">\n      <b-form-select v-model=\"movie.store\">\n        <b-form-select-option value=\"\"></b-form-select-option>\n        <b-form-select-option v-for=\"(label, key) in stores\" :key=\"key\" :value=\"key\">{{ label }}</b-form-select-option>\n      </b-form-select>\n    </b-input-group>\n    <b-input-group prepend=\"Formato\" class=\"mt-2\">\n      <b-form-select v-model=\"movie.format\">\n        <b-form-select-option value=\"\"></b-form-select-option>\n        <b-form-select-option v-for=\"(label, key) in formats\" :key=\"key\" :value=\"key\">{{ label }}</b-form-select-option>\n      </b-form-select>\n    </b-input-group>\n    <b-input-group size=\"md\" prepend=\"IMDb link\" class=\"mt-2\">\n      <b-form-input v-model=\"movie.imdbLink\" @keyup.enter=\"addMovie\"></b-form-input>\n    </b-input-group>\n    <b-row>\n      <b-col sm=\"12\" md=\"6\" offset-md=\"3\" class=\"text-center mt-3\">\n        <b-button @click=\"addMovie\" block variant=\"success\">Añadir a la colección</b-button>\n      </b-col>\n    </b-row>\n  </b-modal>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n  import mixins from '@/mixins'\n  export default {\n    name: 'AddMovieModal',\n    mixins: [ mixins ],\n    computed: {\n      ...mapState([ 'stores', 'formats' ])\n    },\n    data: function(){\n      return {\n        movie: {\n          title: '',\n          cost: 0,\n          store: '',\n          imdbLink: '',\n          format: ''\n        }\n      }\n    },\n    methods: {\n      addMovie(){\n        const _ = this\n        if(!this.movie.title) return false\n        this.$store.commit('addMovie', {\n          title: _.movie.title,\n          cost: _.movie.cost,\n          store: _.movie.store,\n          imdbLink: _.movie.imdbLink,\n          format: _.movie.format || 'br'\n        })\n        document.querySelector('#new-movie-title-modal').focus()\n        this.showToast('Añadida', `Se ha añadido \"${this.movie.title}\" a la colección con un coste de ${this.movie.cost}€`, 'success')\n        this.movie.title = ''\n        this.movie.cost = 0\n        this.movie.store = ''\n        this.movie.imdbLink = ''\n        this.movie.format = ''\n      },\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddMovieModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddMovieModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddMovieModal.vue?vue&type=template&id=49acce01\"\nimport script from \"./AddMovieModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddMovieModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-alert',{attrs:{\"variant\":\"info\",\"show\":\"\"}},[_c('strong',[_vm._v(\"Resumen\")]),_c('hr'),_c('div',[_vm._v(\"Total de películas: \"),_c('strong',[_vm._v(_vm._s(_vm.totalMovies))])]),(_vm.giftMovies)?_c('div',[_vm._v(\"Películas que me han regalado: \"),_c('strong',[_vm._v(_vm._s(_vm.giftMovies))])]):_vm._e(),(_vm.unwatchedMovies)?_c('div',[_vm._v(\"Películas por estrenar: \"),_c('strong',[_vm._v(_vm._s(_vm.unwatchedMovies))])]):_vm._e(),_c('div',[_vm._v(\"Dinero total invertido: \"),_c('strong',[_vm._v(_vm._s(_vm.totalSpent)+\" €\")])]),_c('hr'),_vm._l((_vm.byFormat),function(count,format){return _c('div',{key:format},[_vm._v(\"Total en \"+_vm._s(_vm.formats[format])+\": \"),_c('strong',[_vm._v(_vm._s(count))])])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-alert variant=\"info\" show>\n    <strong>Resumen</strong>\n    <hr>\n    <div>Total de películas: <strong>{{ totalMovies }}</strong></div>\n    <div v-if=\"giftMovies\">Películas que me han regalado: <strong>{{ giftMovies }}</strong></div>\n    <div v-if=\"unwatchedMovies\">Películas por estrenar: <strong>{{ unwatchedMovies }}</strong></div>\n    <div>Dinero total invertido: <strong>{{ totalSpent }} €</strong></div>\n    <hr>\n    <div v-for=\"(count, format) in byFormat\" :key=\"format\">Total en {{ formats[format] }}: <strong>{{ count }}</strong></div>\n  </b-alert>\n</template>\n\n<script>\n  import { mapState } from 'vuex'\n  export default {\n    name: 'Resume',\n    computed: {\n      ...mapState([ 'formats' ])\n    },\n    props: [\n      'totalMovies',\n      'giftMovies',\n      'unwatchedMovies',\n      'totalSpent',\n      'byFormat'\n    ]\n  }\n</script>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Resume.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Resume.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Resume.vue?vue&type=template&id=04340e1a\"\nimport script from \"./Resume.vue?vue&type=script&lang=js\"\nexport * from \"./Resume.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('nav',{staticClass:\"navbar navbar-dark bg-dark mb-3\"},[_c('b-container',[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"#\"}},[_c('b-icon-film',{staticClass:\"yellowgreen\"}),_vm._v(\" \"),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"COLECCIÓN DE PELIS\")])],1),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.add-movie-modal\",modifiers:{\"add-movie-modal\":true}}],staticClass:\"d-inline-block d-sm-none\",attrs:{\"variant\":\"success\"}},[_c('b-icon-plus')],1),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.options-modal\",modifiers:{\"options-modal\":true}}]},[_c('b-icon-gear-fill'),_vm._v(\" \"),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"Opciones\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <nav class=\"navbar navbar-dark bg-dark mb-3\">\n    <b-container>\n      <a class=\"navbar-brand\" href=\"#\"><b-icon-film class=\"yellowgreen\"></b-icon-film> <span class=\"d-none d-sm-inline-block\">COLECCIÓN DE PELIS</span></a>\n      <b-button class=\"d-inline-block d-sm-none\" variant=\"success\" v-b-modal.add-movie-modal><b-icon-plus></b-icon-plus></b-button>\n      <b-button v-b-modal.options-modal><b-icon-gear-fill></b-icon-gear-fill> <span class=\"d-none d-sm-inline-block\">Opciones</span></b-button>\n    </b-container>\n  </nav>\n</template>\n\n<script>\n  export default {\n    name: 'Nav'\n  }\n</script>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Nav.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Nav.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Nav.vue?vue&type=template&id=85cf4af0\"\nimport script from \"./Nav.vue?vue&type=script&lang=js\"\nexport * from \"./Nav.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <Nav></Nav>\n\n    <b-container>\n      <b-row>\n        <b-col sm=\"12\" lg=\"4\">\n          <!-- Izquierda -->\n\n          <Resume\n            :totalSpent=\"round2decimals(totalSpent)\"\n            :totalMovies=\"totalMovies()\"\n            :giftMovies=\"giftMovies()\"\n            :unwatchedMovies=\"unwatchedMovies()\"\n            :byFormat=\"countByFormat()\"\n          ></Resume>\n\n          <div class=\"mb-3\">\n            <b-button variant=\"success\" block v-b-modal.add-movie-modal>\n              <b-icon-plus></b-icon-plus> Añadir película</b-button>\n          </div>\n\n          <SuggestedMovie v-on:showDetail=\"showMovieModal\"></SuggestedMovie>\n\n        </b-col>\n        <!-- Izquierda -->\n\n        <b-col sm=\"12\" lg=\"8\">\n          <!-- Derecha -->\n\n          <b-pagination\n            v-if=\"filteredResults.count\"\n            class=\"mb-3\"\n            v-on:change=\"changePage\"\n            v-model=\"page\"\n            :total-rows=\"filteredResults.count\"\n            :per-page=\"qtyPerPage\"\n            :limit=\"10\"\n            align=\"fill\"\n          ></b-pagination>\n\n          <b-list-group>\n            <b-list-group-item\n              variant=\"dark\"\n              class=\"d-flex justify-content-between align-items-center\">\n              <h4 class=\"mb-0 d-inline-block\">Mi colección</h4>\n              <b-button\n                size=\"sm\"\n                @click=\"showFilters = !showFilters\"\n                :variant=\"showFilters ? 'light' : ''\"\n              >\n                <b-icon-filter></b-icon-filter>\n              </b-button>\n            </b-list-group-item>\n            <!-- Filtros -->\n            <b-list-group-item v-if=\"showFilters\" variant=\"light\">\n              <b-row>\n                <b-col cols=\"12\" md=\"6\">\n                  <b-input-group size=\"md\" prepend=\"Título\">\n                    <b-form-input v-model=\"filters.title\"></b-form-input>\n                  </b-input-group>\n                </b-col>\n                <b-col cols=\"12\" md=\"6\">\n                  <b-input-group prepend=\"Tienda\">\n                    <b-form-select v-model=\"filters.store\">\n                      <b-form-select-option value=\"\"></b-form-select-option>\n                      <b-form-select-option v-for=\"(label, key) in stores\" :key=\"key\" :value=\"key\">{{ label }}</b-form-select-option>\n                    </b-form-select>\n                  </b-input-group>\n                </b-col>\n              </b-row>\n              <b-row class=\"mt-2\">\n                <b-col cols=\"12\" md=\"5\">\n                  <b-input-group prepend=\"Precio\">\n                    <b-form-select v-model=\"filters.cost\">\n                      <b-form-select-option value=\"\"></b-form-select-option>\n                      <b-form-select-option value=\"0\">Gratis</b-form-select-option>\n                      <b-form-select-option value=\"<5\">&lt; 5€</b-form-select-option>\n                      <b-form-select-option value=\"<10\">&lt; 10€</b-form-select-option>\n                      <b-form-select-option value=\"10&50\">&gt; 10€ &amp;&amp; &lt; 50€</b-form-select-option>\n                      <b-form-select-option value=\">50\">&gt; 50€</b-form-select-option>\n                    </b-form-select>\n                  </b-input-group>\n                </b-col>\n                <b-col cols=\"12\" md=\"5\" class=\"mt-2 mt-sm-0\">\n                  <b-input-group prepend=\"Estrenada\">\n                    <b-form-select v-model=\"filters.watched\">\n                      <b-form-select-option :value=\"null\">Todas</b-form-select-option>\n                      <b-form-select-option :value=\"false\">Sin estrenar</b-form-select-option>\n                      <b-form-select-option :value=\"true\">Estrenadas</b-form-select-option>\n                    </b-form-select>\n                  </b-input-group>\n                </b-col>\n              </b-row>\n              <b-row class=\"mt-2 text-center\">\n                <b-col>\n                  <b-input-group prepend=\"Resultados por página\">\n                    <b-form-select v-model=\"qtyPerPage\">\n                      <b-form-select-option :value=\"15\">15</b-form-select-option>\n                      <b-form-select-option :value=\"50\">50</b-form-select-option>\n                      <b-form-select-option :value=\"100\">100</b-form-select-option>\n                    </b-form-select>\n                  </b-input-group>\n                </b-col>\n                <b-col>\n                  <b-input-group prepend=\"Ordenar\">\n                    <b-form-select v-model=\"filters.sort.field\">\n                      <b-form-select-option value=\"title\">Título</b-form-select-option>\n                      <b-form-select-option value=\"cost\">Coste</b-form-select-option>\n                      <b-form-select-option value=\"addDate\">Fecha añadida</b-form-select-option>\n                    </b-form-select>\n                    <b-form-select v-model=\"filters.sort.order\">\n                      <b-form-select-option :value=\"-1\">Asc</b-form-select-option>\n                      <b-form-select-option :value=\"1\">Desc</b-form-select-option>\n                    </b-form-select>\n                  </b-input-group>\n                </b-col>\n              </b-row>\n              <b-row>\n                <b-col>Resultados:\n                  <strong>{{ filteredResults.count }}</strong>\n                </b-col>\n              </b-row>\n            </b-list-group-item>\n\n            <!-- Listado -->\n            <b-list-group-item v-if=\"!totalMovies()\" variant=\"secondary\">Aún no has añadido nada a tu colección :(</b-list-group-item>\n            <b-list-group-item\n              variant=\"warning\"\n              v-if=\"hasAnyFilter && !filteredResults.count && totalMovies()\">\n              No hay resultados con estos filtros\n            </b-list-group-item>\n            <b-list-group-item\n              v-for=\"(movie, key) in filteredResults.items\"\n              :key=\"key\">\n              <b-row>\n                <b-col md=\"12\">\n                  <div class=\"text-truncate text-left font-weight-bold\">\n                    <a\n                      href=\"#\"\n                      v-b-modal.detail-movie-modal\n                      @click.prevent=\"showMovie(movie)\"\n                      >{{ movie.title }}\n                    </a>\n                  </div>\n                </b-col>\n                <b-col md=\"12\" class=\"text-right\">\n                  <b-row class=\"mt-3 mt-sm-0\">\n                    <b-col cols=\"6\" sm=\"8\">\n                      <div class=\"mt-1 text-left\">\n                        <b-badge\n                          v-if=\"movie.format\"\n                          variant=\"info\"\n                          class=\"mr-2 pl-2 pr-2\"\n                        >{{ formats[movie.format] }}</b-badge>\n                        <b-badge\n                          v-if=\"!+movie.watched\"\n                          variant=\"warning\"\n                          class=\"mr-2 pl-2 pr-2 text-uppercase\"\n                          >Sin estrenar</b-badge\n                        >\n                        <b-badge\n                          variant=\"success\"\n                          class=\"mr-2 pl-2 pr-2\"\n                          :title=\"`Coste: ${movie.cost}€`\"\n                          >{{ movie.cost }}€</b-badge\n                        >\n                      </div>\n                    </b-col>\n                    <b-col cols=\"6\" sm=\"4\">\n                      <b-button\n                        class=\"mr-1\"\n                        variant=\"info\"\n                        size=\"sm\"\n                        v-b-modal.edit-movie\n                        @click=\"editMovie(movie.id)\"\n                        ><b-icon-pencil></b-icon-pencil>\n                        <span class=\"d-none d-sm-inline-block\"\n                          >Editar</span\n                        ></b-button\n                      >\n                      <b-button\n                        @click=\"removeMovie(movie.id)\"\n                        size=\"sm\"\n                        variant=\"danger\"\n                        ><b-icon-trash></b-icon-trash>\n                        <span class=\"d-none d-sm-inline-block\"\n                          >Eliminar</span\n                        ></b-button\n                      >\n                    </b-col>\n                  </b-row>\n                </b-col>\n              </b-row>\n            </b-list-group-item>\n          </b-list-group>\n\n          <b-pagination\n            v-if=\"filteredResults.count\"\n            class=\"mt-3\"\n            v-on:change=\"changePage\"\n            v-model=\"page\"\n            :total-rows=\"filteredResults.count\"\n            :per-page=\"qtyPerPage\"\n            :limit=\"10\"\n            align=\"fill\"\n          ></b-pagination>\n        </b-col>\n        <!-- Derecha -->\n      </b-row>\n    </b-container>\n\n    <!-- Modal añadir película (móvil) -->\n    <AddMovieModal></AddMovieModal>\n\n    <!-- Modal de opciones -->\n    <OptionsModal></OptionsModal>\n\n    <!-- Modal de edición -->\n    <EditModal\n      :movie=\"editMovieData\"\n      v-on:confirmEditMovie=\"confirmEditMovie\"\n      v-on:resetEditMovie=\"resetEditMovie\"\n    ></EditModal>\n\n    <!-- Modal de detalle -->\n    <DetailModal\n      v-on:removeMovie=\"removeMovie($event)\"\n      v-on:editMovie=\"editMovie($event)\"\n      :movie=\"detailMovie\"\n    ></DetailModal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\nimport \"bootstrap-vue/dist/bootstrap-vue-icons.min.css\";\nimport mixins from \"@/mixins\";\nimport SuggestedMovie from \"@/components/SuggestedMovie.vue\";\nimport DetailModal from \"@/components/DetailModal.vue\";\nimport EditModal from \"@/components/EditModal.vue\";\nimport OptionsModal from \"@/components/OptionsModal.vue\";\nimport AddMovieModal from \"@/components/AddMovieModal.vue\";\nimport Resume from \"@/components/Resume.vue\";\nimport Nav from \"@/components/Nav.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    SuggestedMovie,\n    DetailModal,\n    EditModal,\n    OptionsModal,\n    AddMovieModal,\n    Resume,\n    Nav,\n  },\n  mixins: [mixins],\n  computed: {\n    ...mapState([\n      \"movieCollection\",\n      \"totalSpent\",\n      \"suggestedToday\",\n      \"stores\",\n      \"exportCode\",\n      \"importCode\",\n      \"showImportTextarea\",\n      \"formats\"\n    ]),\n    hasAnyFilter() {\n      return this.filters.title.length || this.filters.cost.length || this.filters.store.length;\n    },\n  },\n  watch: {\n    movieCollection() {\n      this.filterCollection();\n    },\n    hasAnyFilter() {\n      this.filterCollection();\n    },\n    \"filters.watched\": function () {\n      this.filterCollection();\n    },\n    qtyPerPage() {\n      this.page = 1;\n      this.filterCollection();\n    },\n    \"filters.sort.field\": function () {\n      this.filterCollection();\n    },\n    \"filters.sort.order\": function () {\n      this.filterCollection();\n    },\n  },\n  data: function () {\n    return {\n      page: 1,\n      qtyPerPage: 15,\n      addMovieData: {\n        title: \"\",\n        cost: 0,\n        store: \"\",\n        imdbLink: \"\",\n      },\n      editMovieData: {\n        id: \"\",\n        title: \"\",\n        cost: \"\",\n        watched: 0,\n        store: \"\",\n        imdbLink: \"\",\n        addDate: null,\n        format: ''\n      },\n      showFilters: false,\n      filters: {\n        title: \"\",\n        cost: \"\",\n        watched: null,\n        sort: {\n          field: \"addDate\",\n          order: 1,\n        },\n        store: '',\n        format: ''\n      },\n      detailMovie: null,\n      filteredResults: {\n        items: {},\n        count: 0,\n      },\n    };\n  },\n  methods: {\n    changePage(page) {\n      this.page = page;\n      this.filterCollection();\n    },\n    showMovie(movie) {\n      // this.$store.dispatch({ type: \"getMovie\", id }).then((movie) => {\n        this.detailMovie = {\n          ID: movie.id,\n          Título: movie.title,\n          Coste: movie.cost + \" €\",\n          Tienda: this.stores[movie.store],\n          Estrenada: +movie.watched ? \"Sí\" : \"No\",\n          'Fecha de inclusión': this.formatDate(movie.addDate),\n          'Enlace IMDb': movie.imdbLink\n        };\n      // });\n    },\n    totalMovies() {\n      return Array.isArray(this.movieCollection) ? this.movieCollection.length : 0;\n    },\n    giftMovies() {\n      let total = 0;\n      for (let id in this.movieCollection) {\n        if (+this.movieCollection[id].cost === 0) {\n          total++;\n        }\n      }\n      return total;\n    },\n    unwatchedMovies() {\n      return Object.values(this.movieCollection).reduce((acc, movie) => {\n        if (!+movie.watched) {\n          acc++;\n        }\n        return acc;\n      }, 0);\n    },\n    countByFormat() {\n      const totals = {}\n      for(let id in this.movieCollection){\n        const movie = this.movieCollection[id]\n        if(!totals[movie.format]){\n          totals[movie.format] = 1\n        }else{\n          totals[movie.format]++\n        }\n      }\n      return totals\n    },\n    formatDate(date) {\n      return new Date(date).toLocaleString().split(\", \").shift();\n    },\n    sortItems(items) {\n      const value = this.filters.sort.order;\n      return items.sort((a, b) => {\n        if (a[this.filters.sort.field] > b[this.filters.sort.field]) {\n          return value;\n        } else if (a[this.filters.sort.field] < b[this.filters.sort.field]) {\n          return value * -1;\n        } else {\n          return 0;\n        }\n      });\n    },\n    filterCollection() {\n      if (!this.movieCollection || !this.movieCollection.length) {\n        return false;\n      }\n      let items = this.movieCollection.slice().filter(this.filterItem);\n      if (this.filters.sort.field) {\n        items = this.sortItems(items);\n      }\n      items = items.reverse();\n      const count = items.length;\n      items = items.splice(this.qtyPerPage * (this.page - 1), this.qtyPerPage);\n      this.filteredResults = {\n        items: items,\n        count: count,\n      };\n    },\n    filterItem(item) {\n      let isOk = true;\n      if (this.filters.title) {\n        if (\n          !item.title.toLowerCase().includes(this.filters.title.toLowerCase())\n        ) {\n          isOk = false;\n        }\n      }\n      if (this.filters.cost) {\n        if (!this.evalCostFilter(item)) {\n          isOk = false;\n        }\n      }\n      if (this.filters.watched !== null) {\n        if (+this.filters.watched !== +(item.watched || 0)) {\n          isOk = false;\n        }\n      }\n      if(this.filters.store){\n        if(item.store !== this.filters.store){\n          isOk = false;\n        }\n      }\n      return isOk;\n    },\n    evalCostFilter(item) {\n      if (this.filters.cost.includes(\"&\")) {\n        // Rango\n        const range = this.filters.cost.split(\"&\");\n        return +item.cost > +range[0] && +item.cost < +range[1];\n      } else if (this.filters.cost.includes(\"<\")) {\n        // Menor que\n        return +item.cost < +this.filters.cost.replace(\"<\", \"\");\n      } else if (this.filters.cost.includes(\">\")) {\n        // Mayor que\n        return +item.cost > +this.filters.cost.replace(\">\", \"\");\n      } else {\n        // Número concreto\n        return +item.cost === +this.filters.cost;\n      }\n    },\n    addMovie() {\n      const _ = this;\n      if (!this.addMovieData.title) return false;\n      this.$store.commit(\"addMovie\", {\n        title: _.addMovieData.title,\n        cost: _.addMovieData.cost,\n        store: _.addMovieData.store,\n        imdbLink: _.addMovieData.imdbLink,\n      });\n      document.querySelector(\"#new-movie-title\").focus();\n      this.showToast(\n        \"Añadida\",\n        `Se ha añadido \"${this.addMovieData.title}\" a la colección con un coste de ${this.addMovieData.cost}€`,\n        \"success\"\n      );\n      this.addMovieData.title = \"\";\n      this.addMovieData.cost = 0;\n      this.addMovieData.store = \"\";\n      this.addMovieData.imdbLink = \"\";\n    },\n    clearCollection() {\n      if (\n        confirm(\"Vas a ELIMINAR POR COMPLETO la colección ¿estás seguro/a?\")\n      ) {\n        this.$store.commit(\"clearCollection\");\n        this.showToast(\n          \"Colección eliminada\",\n          \"Se ha eliminado la colección al completo\",\n          \"success\"\n        );\n      }\n    },\n    removeMovie(id) {\n      this.$store.dispatch({ type: \"getMovie\", id }).then((res) => {\n        const title = res.title;\n        if (confirm(`¿Eliminar de la colección \"${title}\"?`)) {\n          this.$store.commit(\"removeMovie\", id);\n          this.showToast(\"Eliminado\", `Has eliminado \"${title}\"`, \"success\");\n        }\n      });\n    },\n    exportCollection() {\n      const str = JSON.stringify({\n        movieCollection: this.movieCollection,\n        totalSpent: this.totalSpent,\n      });\n      this.exportCode = btoa(str);\n    },\n    clearExportCode() {\n      this.exportCode = \"\";\n    },\n    importCollection() {\n      const str = atob(this.importCode);\n      try {\n        const data = JSON.parse(str);\n        data.movieCollection = data.movieCollection.map((movie) => {\n          if (typeof movie.watched === \"undefined\") {\n            movie.watched = 1;\n          } else {\n            movie.watched = !!+movie.watched;\n          }\n          if (!movie.addDate) {\n            movie.addDate = Date.now();\n          } else {\n            movie.addDate = +movie.addDate;\n          }\n          return movie;\n        });\n        this.$store.commit(\"importCollection\", data);\n        this.showToast(\"Importado\", \"Colección importada con éxito\", \"success\");\n      } catch (e) {\n        console.error(e);\n      }\n    },\n    editMovie(id) {\n      this.$store.dispatch({ type: \"getMovie\", id }).then((movie) => {\n        this.editMovieData.id = movie.id;\n        this.editMovieData.title = movie.title;\n        this.editMovieData.cost = +movie.cost;\n        this.editMovieData.watched = +movie.watched;\n        this.editMovieData.store = movie.store;\n        this.editMovieData.imdbLink = movie.imdbLink;\n        this.editMovieData.addDate = new Date(movie.addDate);\n        this.editMovieData.format = movie.format\n      });\n    },\n    confirmEditMovie() {\n      this.$store.commit(\"editMovie\", {\n        id: this.editMovieData.id,\n        title: this.editMovieData.title,\n        cost: +this.editMovieData.cost,\n        watched: +this.editMovieData.watched === 1,\n        store: this.editMovieData.store,\n        imdbLink: this.editMovieData.imdbLink,\n        addDate: new Date(this.editMovieData.addDate),\n        format: this.editMovieData.format\n      });\n      this.showToast(\n        \"Editado\",\n        `Se ha editado correctamente \"${this.editMovieData.title}\"`,\n        \"success\"\n      );\n    },\n    resetEditMovie() {\n      this.editMovieData.id = \"\";\n      this.editMovieData.title = \"\";\n      this.editMovieData.cost = \"\";\n      this.editMovieData.store = \"\";\n      this.editMovieData.format = \"\";\n    },\n    showToast(title, text, variant) {\n      this.$bvToast.toast(text, {\n        title,\n        variant,\n        solid: true,\n        toaster: \"b-toaster-top-center\",\n      });\n    },\n    showMovieModal(id) {\n      this.showMovie(id);\n      this.$bvModal.show(\"detail-movie-modal\");\n    },\n  },\n  mounted() {\n    this.filterCollection();\n  },\n};\n</script>\n\n<style>\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: #369;\n  padding-bottom: 40px;\n}\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.yellowgreen {\n  color: yellowgreen;\n}\n#detail-content .row:nth-child(even) {\n  background-color: #f4f4f4;\n}\n</style>\n","import mod from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=bfa4964c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=bfa4964c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const API_BASE_URL = 'https://pelis-api-hazel.vercel.app/api'\n\nconst API_REQUEST_HEADERS = {\n    'Content-Type': 'application/json'\n}\n\nexport const addToAPI = async data => {\n  const response = await callAPI('POST', '/movies', data)\n  return await response.json()\n}\n\nexport const getFromAPI = async () => {\n  const response = await callAPI('GET', '/movies')\n  return await response.json();\n}\n\nexport const getDetailFromAPI = async id => {\n  const response = await callAPI('GET', `/movies/${id}`)\n  return await response.json();\n}\n\nexport const removeFromAPI = async id => {\n  const response = await callAPI('DELETE', `/movies/${id}`)\n  return response.status === 204\n}\n\nexport const updateInAPI = async (id, data) => {\n  if (data.id) delete data.id;\n  const response = await callAPI('PUT', `/movies/${id}`, data)\n  return response.status === 200\n}\n\nexport const clearCollectionInAPI = async () => {\n  const response = await callAPI('DELETE', '/movies/')\n  return response.status === 200\n}\n\nexport const callAPI = async (method, path, data) => {\n  if (!localStorage.getItem('ak')) {\n    throw new Error('Error! Invalid auth.')\n  }\n\n  const payload = {\n    method,\n    headers: API_REQUEST_HEADERS\n  }\n\n  if (data) {\n    payload.body = JSON.stringify(data)\n  }\n  const response = await fetch(`${API_BASE_URL}${path}`, payload)\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`)\n  }\n  return response\n}","import {\n  addToAPI,\n  getDetailFromAPI,\n  getFromAPI,\n  removeFromAPI,\n  updateInAPI,\n  clearCollectionInAPI\n} from './dbAPI.js'\n\nconst baseState = {\n  movieCollection: {},\n  totalSpent: 0,\n  suggestedToday: {\n    date: null,\n    id: ''\n  },\n  stores: {\n    'amazon': 'Amazon',\n    'elcorteingles': 'El corte Inglés',\n    'fnac': 'Fnac',\n    'cex': 'Cex',\n    'carrefour': 'Carrefour',\n    'selectavision': 'Selecta Visión',\n    'mediamarkt': 'Mediamarkt',\n    'game': 'Game',\n    'centromail': 'Centro Mail'\n  },\n  formats: {\n    'br': 'Bluray',\n    'dvd': 'DVD'\n  }\n}\n\nconst init = function (e) {\n  getAllFromDB().then((collection) => {\n    baseState.movieCollection = collection\n    // No pelis, no party\n    if (!collection.length) return false\n    // Calcular el total invertido\n    baseState.totalSpent = recalculateTotalSpent(baseState)\n    // Miramos si la que hay guardada en el localStorage es la sugerida de hoy\n    const suggestedFromLocal = getFromLocalStorage('config.suggestedToday')\n\n    if (suggestedFromLocal && suggestedFromLocal.id && isToday(suggestedFromLocal.date)) {\n\n      // Antes de pedir detalle a la API vamos a comprobar que existe en la colección\n      if (!collection.some(movie => movie.id === suggestedFromLocal.id)) {\n        // Si no existe generamos una nueva\n        const suggestedTodayNew = this.getSmartDailyMovie(collection)\n        baseState.suggestedToday = suggestedTodayNew\n        setToLocalStorage('config.suggestedToday', suggestedTodayNew)\n        return;\n      }\n\n      getFromDB(suggestedFromLocal.id)\n        .then(item => {\n          if (item) {\n            baseState.suggestedToday = {\n              date: item.date,\n              id: item.id\n            }\n          } else {\n            const suggestedTodayNew = this.getSmartDailyMovie(collection)\n            baseState.suggestedToday = suggestedTodayNew\n            setToLocalStorage('config.suggestedToday', suggestedTodayNew)\n          }\n        }\n      )\n      .catch(e => {\n        const suggestedTodayNew = this.getSmartDailyMovie(collection)\n        baseState.suggestedToday = suggestedTodayNew\n        setToLocalStorage('config.suggestedToday', suggestedTodayNew)\n      })\n\n    } else {\n      const suggestedTodayNew = {\n        date: Date.now(),\n        id: collection[random(0, collection.length - 1)].id\n      }\n      baseState.suggestedToday = suggestedTodayNew\n      setToLocalStorage('config.suggestedToday', suggestedTodayNew)\n    }\n\n  }).catch(console.error)\n}\n\nexport const recalculateTotalSpent = state => {\n  return state.movieCollection.reduce((acc, item) => {\n    acc += +item.cost\n    return acc\n  }, 0)\n}\n\nexport const random = (min, max) => {\n  return Math.round(min + Math.random() * (max - min))\n}\n\nexport const isToday = time => {\n  const date = new Date(+time).toLocaleString().split(' ').shift()\n  const today = new Date().toLocaleString().split(' ').shift()\n  return date === today\n}\n\nexport const addToDB = async data => await addToAPI(data)\n\nexport const getFromDB = async id => await getDetailFromAPI(id)\n\nexport const removeFromDB = async id => await removeFromAPI(id)\n\nexport const updateFromDB = async (id, data) => await updateInAPI(id, data)\n\nexport const getAllFromDB = () => new Promise((resolve, reject) => {\n  getFromAPI().then(list => {\n    list = list.map(m => {\n      m.addDate = new Date(m.addDate)\n      return m\n    })\n    resolve(list)\n  }).catch(reject)\n})\n\nexport const clearDB = () => new Promise((resolve, reject) => {\n  clearCollectionInAPI()\n  .then(resolve)\n  .catch(reject)\n})\n\n////////////////////////\n// vvv  LISTAS  vvv   //\n////////////////////////\n/* export const getList = (listId) => new Promise((resolve, reject) => {\n  const objStore = db.transaction(['lists'], 'readonly').objectStore('lists')\n  objStore.get(listId).onsuccess = e => resolve(e.target.result)\n})\n\nexport const createList = (listName) => new Promise((resolve, reject) => {\n  const listId = Math.random().toString().substring(2) + new Date().getTime()\n  const objStore = db.transaction(['lists'], 'readwrite').objectStore('lists')\n  objStore.put({\n    id: listId,\n    name: listName,\n    movies: []\n  }).onsuccess = e => resolve()\n})\n\nexport const editList = (listId, data) => new Promise((resolve, reject) => {\n  const objStore = db.transaction(['lists'], 'readwrite').objectStore('lists')\n  objStore.get(listId).onsuccess = e => {\n    const item = e.target.result\n    const updatedData = Object.assign({}, item, data)\n    objStore.put(updatedData).onsuccess = e => {\n      getList(updatedData.id).then(e => resolve(e))\n    }\n  }\n})\n\nexport const deleteList = (listId) => new Promise((resolve, reject) => {\n  const objStore = db.transaction(['lists'], 'readwrite').objectStore('lists')\n  objStore.delete(id).onsuccess = e => resolve(e)\n})\n\nexport const addMovieToList = (listId, movie) => new Promise((resolve, reject) => {\n  const objStore = db.transaction(['lists'], 'readwrite').objectStore('lists')\n  objStore.get(listId).onsuccess = e => {\n    const listData = e.target.result\n    const exists = listData.movies.findIndex(mid => mid === movie.id)\n    if(exists === -1){\n      return resolve()\n    }\n    listData.movies.push(movie.id)\n    objStore.put(listData).onsuccess = e => resolve(listData)\n  } // Fin get\n})\n\nexport const deleteMovieFromList = (listId, movie) => new Promise((resolve, reject) => {\n  const objStore = db.transaction(['lists'], 'readwrite').objectStore('lists')\n  objStore.get(listId).onsuccess = e => {\n    const listData = e.target.result\n    const exists = listData.movies.findIndex(mid => mid === movie.id)\n    if(exists !== -1){\n      return resolve()\n    }\n    listData.movies = listData.movies.filter(mid => mid !== movie.id)\n    objStore.put(listData).onsuccess = e => resolve(listData)\n  } // Fin get\n}) */\n////////////////////////\n// ^^^  LISTAS  ^^^   //\n////////////////////////\n\nexport const getFromLocalStorage = key => JSON.parse(window.localStorage.getItem(key))\n\nexport const setToLocalStorage = (key, data) => window.localStorage.setItem(key, JSON.stringify(data))\n\nexport const DBBaseState = baseState\n\ninit();","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport {\n  DBBaseState,\n  recalculateTotalSpent,\n  addToDB,\n  getFromDB,\n  removeFromDB,\n  updateFromDB,\n  clearDB,\n} from './db.js'\n\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: DBBaseState,\n  mutations: {\n    setCollection(state, collection) {\n      state.movieCollection = collection\n    },\n    saveMovieToState: (state, addedItem) => {\n        state.movieCollection.push(addedItem);\n        state.totalSpent += Number(addedItem.cost) || 0;\n    },\n    clearCollection(state) {\n      clearDB().then(() => {\n        location.reload()\n        state.movieCollection = {}\n        state.totalSpent = 0\n      })\n    },\n    removeMovie(state, id) {\n      removeFromDB(id).then(() => {\n        const index = state.movieCollection.findIndex(m => m.id === id)\n        Vue.delete(state.movieCollection, index)\n        state.totalSpent = recalculateTotalSpent(state)\n      })\n    },\n    importCollection(state, data) {\n      clearDB().then((e) => {\n        addToDB(data).then(e => {\n          state.movieCollection = data\n          state.totalSpent = recalculateTotalSpent(state)\n        })\n      })\n    },\n    editMovie(state, data) {\n      updateFromDB(data.id, data).then(updatedMovie => {\n        const index = state.movieCollection.findIndex(item => item.id === data.id)\n        Vue.set(state.movieCollection, index, updatedMovie)\n        state.totalSpent = recalculateTotalSpent(state)\n      })\n    },\n    forceRecalcTotalSpent(state) {\n      state.totalSpent = recalculateTotalSpent(state)\n    }\n  },\n  actions: {\n    getMovie({ commit, state }, data) {\n      return getFromDB(data.id)\n    },\n    async addMoviesBatch({ commit }, data) {\n        // La data aquí es el array de 100 (o el resto de 5)\n        const response = await addToDB(data); \n        const addedItems = Array.isArray(response) ? response : [response];\n        \n        addedItems.forEach(item => {\n            commit('saveMovieToState', item);\n        });\n    }\n  },\n  modules: {\n  },\n  plugins: []\n})","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue'\n\nasync function hashString(str, algorithm = 'SHA-256') {\n  // 1. Codificar el string a un ArrayBuffer\n  const encoder = new TextEncoder();\n  const data = encoder.encode(str);\n\n  // 2. Calcular el hash\n  const hashBuffer = await crypto.subtle.digest(algorithm, data); // 'SHA-1', 'SHA-256', 'SHA-384', 'SHA-512'\n\n  // 3. Convertir el ArrayBuffer a una cadena hexadecimal\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n\n  return hashHex;\n}\n\nconst HASHED_STRING = '5105d8f593cc9aa310d7d9052f26cb7b069233328b7eeaae5cb82dc904b94fa2';\n\n// 1. Envolver la lógica principal en una función asíncrona (IIFE)\n(async function checkAuth() {\n    // Si ya está autenticado o tiene la clave, salimos\n    if (window.auth || localStorage.getItem('ak')) {\n        return; \n    }\n\n    // 2. Pedir la entrada (Esto es síncrono y bloquea la ejecución, lo cual está bien aquí)\n    const psst = window.prompt('psst!');\n\n    // 3. Comprobar si el usuario canceló (psst será null)\n    if (psst === null || psst.trim() === '') {\n        console.log('Autenticación cancelada o vacía.');\n        return;\n    }\n\n    try {\n        // 4. Calcular el hash de forma ASÍNCRONA\n        const hashed = await hashString(psst, 'SHA-256'); // Asegúrate de usar el mismo algoritmo que generó HASHED_STRING\n\n        // 5. Comprobar la coincidencia\n        if (hashed === HASHED_STRING) {\n            localStorage.setItem('ak', HASHED_STRING);\n            console.log('¡Autenticación exitosa!');\n        } else {\n            console.log('Hash incorrecto.');\n        }\n    } catch (error) {\n        console.error('Error al calcular el hash o falta la función hashString:', error);\n    }\n})(); // Auto-invocación inmediata\n\nVue.config.productionTip = false\n\nVue.use(BootstrapVue)\nVue.use(IconsPlugin)\n\nnew Vue({\n  store,\n  render: function (h) { return h(App) }\n}).$mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpelis\"] = self[\"webpackChunkpelis\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(864)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","round2decimals","totalSpent","totalMovies","giftMovies","unwatchedMovies","countByFormat","staticClass","directives","name","rawName","modifiers","_v","on","showMovieModal","filteredResults","count","qtyPerPage","changePage","model","value","callback","$$v","page","expression","_e","showFilters","$event","filters","$set","_l","label","key","_s","sort","hasAnyFilter","movie","preventDefault","showMovie","title","formats","format","watched","cost","editMovie","id","removeMovie","editMovieData","confirmEditMovie","resetEditMovie","detailMovie","staticRenderFns","methods","formatMovie","data","store","imdbLink","addDate","Date","getSmartDailyMovie","collection","today","getUTCDate","month","getUTCMonth","sortedCollection","a","b","localeCompare","unwatched","filter","m","targetList","length","seed","selectedMovie","date","now","isNew","showToast","text","variant","$bvToast","toast","solid","toaster","obtenerKeyTienda","nombre","tiendasReferencia","keyNormalizada","toLowerCase","normalize","replace","hasOwnProperty","obtenerTiendaYPrecioDeDescripcionImdb","descripcion","result","tienda","precio","match","trim","parseFloat","readImdbCSV","async","fileData","parsed","csvToArray","validRows","slice","batchSize","i","chunk","moviesBatch","map","dateWatched","dateAdded","tiendaYPrecio","getTime","$store","dispatch","console","log","error","l","p","row","ret","r","s","number","Math","round","Number","EPSILON","jsonToCsv","json","items","replacer","toString","header","Object","keys","csv","encodeURI","join","fieldName","JSON","stringify","$emit","computed","watch","suggestedToday","type","then","mounted","component","ID","props","indexOf","_k","keyCode","exportCode","exportCollection","downloadExportFile","clearExportCode","showImportTextarea","importCode","importCollection","importCollectionFile","readFile","recalcTotalSpent","clearCollection","mixins","importListUrl","commit","link","document","createElement","dateStr","getFullYear","getMonth","getDate","download","href","movieCollection","click","event","reader","FileReader","onload","e","target","shift","isTime","includes","readAsText","files","importJSONFile","file","fr","col","parse","confirm","str","btoa","atob","addMovie","apply","arguments","_","querySelector","focus","components","SuggestedMovie","DetailModal","EditModal","OptionsModal","AddMovieModal","Resume","Nav","filterCollection","addMovieData","field","order","Coste","Tienda","stores","Estrenada","formatDate","Array","isArray","total","values","reduce","acc","totals","toLocaleString","split","sortItems","filterItem","reverse","splice","item","isOk","evalCostFilter","range","res","$bvModal","show","API_BASE_URL","API_REQUEST_HEADERS","addToAPI","response","callAPI","getFromAPI","getDetailFromAPI","removeFromAPI","status","updateInAPI","clearCollectionInAPI","method","path","localStorage","getItem","Error","payload","headers","body","fetch","ok","baseState","init","getAllFromDB","recalculateTotalSpent","suggestedFromLocal","getFromLocalStorage","isToday","some","suggestedTodayNew","setToLocalStorage","getFromDB","catch","random","state","min","max","time","addToDB","removeFromDB","updateFromDB","Promise","resolve","reject","list","clearDB","window","setItem","DBBaseState","use","mutations","setCollection","saveMovieToState","addedItem","push","location","reload","index","findIndex","delete","updatedMovie","forceRecalcTotalSpent","actions","getMovie","addMoviesBatch","addedItems","forEach","modules","plugins","hashString","algorithm","encoder","TextEncoder","encode","hashBuffer","crypto","subtle","digest","hashArray","from","Uint8Array","hashHex","padStart","HASHED_STRING","auth","psst","prompt","hashed","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}